<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tic-Tac-Toe</title>
    <link rel="stylesheet" href="styles.css" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="manifest" href="/manifest.json" />

    <link rel="icon" href="/x-favicon.png" />
    <link rel="apple-touch-icon" href="/x-favicon.png" />
  </head>

  <body>
    <section class="start-game">
      <button class="start-button">Start New Game</button>
    </section>

    <script>
      function generateGameId() {
        const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        let result = '';
        for (let i = 0; i < 3; i++) {
          result += letters.charAt(Math.floor(Math.random() * letters.length));
        }
        result += '-';
        result += Math.floor(Math.random() * 1000);

        return result;
      }

      document.querySelector('.start-button').addEventListener('click', () => {
        document.location.href = `/play?game=${generateGameId()}&token=${self.crypto.randomUUID()}`;
      });
    </script>
  </body>
</html>
